var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function o(e){return e()}function i(){return Object.create(null)}function r(e){e.forEach(o)}function c(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,n,o){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}const s="undefined"!=typeof window;let u=s?()=>window.performance.now():()=>Date.now(),f=s?e=>requestAnimationFrame(e):e;const d=new Set;function m(e){d.forEach(t=>{t.c(e)||(d.delete(t),t.f())}),0!==d.size&&f(m)}function p(e,t){e.appendChild(t)}function h(e,t,n){e.insertBefore(t,n||null)}function $(e){e.parentNode.removeChild(e)}function g(e){return document.createElement(e)}function b(e){return document.createTextNode(e)}function x(){return b(" ")}function w(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function v(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e,t){t=""+t,e.data!==t&&(e.data=t)}function S(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}function E(e,t,n){e.classList[n?"add":"remove"](t)}let H;function I(e){H=e}function _(){const e=function(){if(!H)throw new Error("Function called outside component initialization");return H}();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const i=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);o.slice().forEach(t=>{t.call(e,i)})}}}const k=[],M=[],A=[],z=[],j=Promise.resolve();let V=!1;function C(e){A.push(e)}let P=!1;const T=new Set;function O(){if(!P){P=!0;do{for(let e=0;e<k.length;e+=1){const t=k[e];I(t),D(t.$$)}for(k.length=0;M.length;)M.pop()();for(let e=0;e<A.length;e+=1){const t=A[e];T.has(t)||(T.add(t),t())}A.length=0}while(k.length);for(;z.length;)z.pop()();V=!1,P=!1,T.clear()}}function D(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(C)}}const N=new Set;let L;function q(e,t){e&&e.i&&(N.delete(e),e.i(t))}function B(e,t,n,o){if(e&&e.o){if(N.has(e))return;N.add(e),L.c.push(()=>{N.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}}const F="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function G(e){e&&e.c()}function J(e,t,n){const{fragment:i,on_mount:l,on_destroy:a,after_update:s}=e.$$;i&&i.m(t,n),C(()=>{const t=l.map(o).filter(c);a?a.push(...t):r(t),e.$$.on_mount=[]}),s.forEach(C)}function K(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Q(e,t){-1===e.$$.dirty[0]&&(k.push(e),V||(V=!0,j.then(O)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function R(t,n,o,c,l,a,s=[-1]){const u=H;I(t);const f=n.props||{},d=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:l,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:i(),dirty:s};let m=!1;if(d.ctx=o?o(t,f,(e,n,...o)=>{const i=o.length?o[0]:n;return d.ctx&&l(d.ctx[e],d.ctx[e]=i)&&(d.bound[e]&&d.bound[e](i),m&&Q(t,e)),n}):[],d.update(),m=!0,r(d.before_update),d.fragment=!!c&&c(d.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);d.fragment&&d.fragment.l(e),e.forEach($)}else d.fragment&&d.fragment.c();n.intro&&q(t.$$.fragment),J(t,n.target,n.anchor),O()}I(u)}class U{$destroy(){K(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const W=[];function X(e){return"[object Date]"===Object.prototype.toString.call(e)}function Y(e,t){if(e===t||e!=e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map((t,n)=>Y(e[n],t));return e=>n.map(t=>t(e))}if("object"===n){if(!e||!t)throw new Error("Object cannot be null");if(X(e)&&X(t)){e=e.getTime();const n=(t=t.getTime())-e;return t=>new Date(e+t*n)}const n=Object.keys(t),o={};return n.forEach(n=>{o[n]=Y(e[n],t[n])}),e=>{const t={};return n.forEach(n=>{t[n]=o[n](e)}),t}}if("number"===n){const n=t-e;return t=>e+t*n}throw new Error(`Cannot interpolate ${n} values`)}function Z(o,i={}){const r=function(t,n=e){let o;const i=[];function r(e){if(l(t,e)&&(t=e,o)){const e=!W.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),W.push(n,t)}if(e){for(let e=0;e<W.length;e+=2)W[e][0](W[e+1]);W.length=0}}}return{set:r,update:function(e){r(e(t))},subscribe:function(c,l=e){const a=[c,l];return i.push(a),1===i.length&&(o=n(r)||e),c(t),()=>{const e=i.indexOf(a);-1!==e&&i.splice(e,1),0===i.length&&(o(),o=null)}}}}(o);let c,a=o;function s(e,l){if(null==o)return r.set(o=e),Promise.resolve();a=e;let s=c,p=!1,{delay:h=0,duration:$=400,easing:g=t,interpolate:b=Y}=n(n({},i),l);if(0===$)return r.set(a),Promise.resolve();const x=u()+h;let w;return c=function(e){let t;return 0===d.size&&f(m),{promise:new Promise(n=>{d.add(t={c:e,f:n})}),abort(){d.delete(t)}}}(t=>{if(t<x)return!0;p||(w=b(o,e),"function"==typeof $&&($=$(o,e)),p=!0),s&&(s.abort(),s=null);const n=t-x;return n>$?(r.set(o=e),!1):(r.set(o=w(g(n/$))),!0)}),c.promise}return{set:s,update:(e,t)=>s(e(a,o),t),subscribe:r.subscribe}}function ee(t){let n,o,i,r,c;return{c(){n=g("div"),o=g("div"),i=g("img"),i.src!==(r=t[2])&&v(i,"src",r),v(i,"alt","Missing Player Icon!"),v(i,"class","svelte-6hdf8f"),v(o,"class","icon svelte-6hdf8f"),S(o,"width",t[1]+"px"),S(o,"height",t[1]+"px"),E(o,"bSelected",t[0]),v(n,"class","wrapper svelte-6hdf8f"),E(n,"bSelected",t[0])},m(e,r,l){h(e,n,r),p(n,o),p(o,i),l&&c(),c=w(o,"click",t[6])},p(e,[t]){4&t&&i.src!==(r=e[2])&&v(i,"src",r),2&t&&S(o,"width",e[1]+"px"),2&t&&S(o,"height",e[1]+"px"),1&t&&E(o,"bSelected",e[0]),1&t&&E(n,"bSelected",e[0])},i:e,o:e,d(e){e&&$(n),c()}}}function te(e,t,n){let o=_(),{name:i}=t,{bSelected:r}=t,{size:c=80}=t;const l=e=>{o("select",e)};let a;return e.$set=e=>{"name"in e&&n(4,i=e.name),"bSelected"in e&&n(0,r=e.bSelected),"size"in e&&n(1,c=e.size)},e.$$.update=()=>{16&e.$$.dirty&&n(2,a="./images/"+i+".png")},[r,c,a,l,i,o,e=>l(e)]}class ne extends U{constructor(e){super(),R(this,e,te,ee,l,{name:4,bSelected:0,size:1})}}function oe(t){let n,o,i;return{c(){n=g("div"),o=g("div"),v(o,"class",i="bar "+t[0]+" svelte-cvaama"),S(o,"width",t[1]+"%"),v(n,"class","progressbar svelte-cvaama")},m(e,t){h(e,n,t),p(n,o)},p(e,[t]){1&t&&i!==(i="bar "+e[0]+" svelte-cvaama")&&v(o,"class",i),2&t&&S(o,"width",e[1]+"%")},i:e,o:e,d(e){e&&$(n)}}}function ie(e,t,n){let o,{vital:i}=t,{maxVital:r}=t,{color:c}=t;return e.$set=e=>{"vital"in e&&n(2,i=e.vital),"maxVital"in e&&n(3,r=e.maxVital),"color"in e&&n(0,c=e.color)},e.$$.update=()=>{12&e.$$.dirty&&n(1,o=r>0?Math.floor(100*i/r):0)},[c,o,i,r]}class re extends U{constructor(e){super(),R(this,e,ie,oe,l,{vital:2,maxVital:3,color:0})}}function ce(e){let t,n,o;return{c(){t=g("div"),n=g("span"),o=b(e[0]),v(t,"class","name")},m(e,i){h(e,t,i),p(t,n),p(n,o)},p(e,t){1&t&&y(o,e[0])},d(e){e&&$(t)}}}function le(e){let t,n,o,i;return{c(){t=g("span"),n=b(e[1]),o=b("/"),i=b(e[2])},m(e,r){h(e,t,r),p(t,n),p(t,o),p(t,i)},p(e,t){2&t&&y(n,e[1]),4&t&&y(i,e[2])},d(e){e&&$(t)}}}function ae(e){let t,n,o,i;return{c(){t=g("span"),n=b(e[3]),o=b("/"),i=b(e[4])},m(e,r){h(e,t,r),p(t,n),p(t,o),p(t,i)},p(e,t){8&t&&y(n,e[3]),16&t&&y(i,e[4])},d(e){e&&$(t)}}}function se(e){let t,n,o,i,r,c,l,a,s,u;const f=new ne({props:{name:e[0],bSelected:e[5],size:e[6]}});f.$on("select",e[11]);let d=e[5]&&ce(e),m=e[5]&&le(e);const b=new re({props:{vital:e[1],maxVital:e[2],color:"red"}});let w=e[5]&&ae(e);const y=new re({props:{vital:e[3],maxVital:e[4],color:"blue"}});return{c(){t=g("div"),G(f.$$.fragment),n=x(),o=g("div"),d&&d.c(),i=x(),r=g("div"),m&&m.c(),c=x(),G(b.$$.fragment),l=x(),a=g("div"),w&&w.c(),s=x(),G(y.$$.fragment),v(r,"class","hitpoints svelte-7xvmkc"),E(r,"selected",e[5]),v(a,"class","mana svelte-7xvmkc"),E(a,"selected",e[5]),v(o,"class","info svelte-7xvmkc"),v(t,"class","player svelte-7xvmkc"),E(t,"selected",e[5])},m(e,$){h(e,t,$),J(f,t,null),p(t,n),p(t,o),d&&d.m(o,null),p(o,i),p(o,r),m&&m.m(r,null),p(r,c),J(b,r,null),p(o,l),p(o,a),w&&w.m(a,null),p(a,s),J(y,a,null),u=!0},p(e,[n]){const l={};1&n&&(l.name=e[0]),32&n&&(l.bSelected=e[5]),64&n&&(l.size=e[6]),f.$set(l),e[5]?d?d.p(e,n):(d=ce(e),d.c(),d.m(o,i)):d&&(d.d(1),d=null),e[5]?m?m.p(e,n):(m=le(e),m.c(),m.m(r,c)):m&&(m.d(1),m=null);const u={};2&n&&(u.vital=e[1]),4&n&&(u.maxVital=e[2]),b.$set(u),32&n&&E(r,"selected",e[5]),e[5]?w?w.p(e,n):(w=ae(e),w.c(),w.m(a,s)):w&&(w.d(1),w=null);const p={};8&n&&(p.vital=e[3]),16&n&&(p.maxVital=e[4]),y.$set(p),32&n&&E(a,"selected",e[5]),32&n&&E(t,"selected",e[5])},i(e){u||(q(f.$$.fragment,e),q(b.$$.fragment,e),q(y.$$.fragment,e),u=!0)},o(e){B(f.$$.fragment,e),B(b.$$.fragment,e),B(y.$$.fragment,e),u=!1},d(e){e&&$(t),K(f),d&&d.d(),m&&m.d(),K(b),w&&w.d(),K(y)}}}function ue(e,t,n){let o,i=_(),{index:r}=t,{name:c}=t,{hitpoints:l}=t,{maxHitpoints:s}=t,{mana:u}=t,{maxMana:f}=t,{bSelected:d}=t;const m=Z(0,{duration:200});a(e,m,e=>n(6,o=e));const p=e=>{i("select",r)};return e.$set=e=>{"index"in e&&n(9,r=e.index),"name"in e&&n(0,c=e.name),"hitpoints"in e&&n(1,l=e.hitpoints),"maxHitpoints"in e&&n(2,s=e.maxHitpoints),"mana"in e&&n(3,u=e.mana),"maxMana"in e&&n(4,f=e.maxMana),"bSelected"in e&&n(5,d=e.bSelected)},e.$$.update=()=>{32&e.$$.dirty&&m.set(d?100:75)},[c,l,s,u,f,d,o,m,p,r,i,e=>p()]}class fe extends U{constructor(e){super(),R(this,e,ue,se,l,{index:9,name:0,hitpoints:1,maxHitpoints:2,mana:3,maxMana:4,bSelected:5})}}const{window:de}=F;function me(e,t,n){const o=e.slice();return o[7]=t[n],o[9]=n,o}function pe(e){let t;const o=[e[7],{index:e[9]}];let i={};for(let e=0;e<o.length;e+=1)i=n(i,o[e]);const r=new fe({props:i});return r.$on("select",e[6]),{c(){G(r.$$.fragment)},m(e,n){J(r,e,n),t=!0},p(e,t){const n=1&t?function(e,t){const n={},o={},i={$$scope:1};let r=e.length;for(;r--;){const c=e[r],l=t[r];if(l){for(const e in c)e in l||(o[e]=1);for(const e in l)i[e]||(n[e]=l[e],i[e]=1);e[r]=l}else for(const e in c)i[e]=1}for(const e in o)e in n||(n[e]=void 0);return n}(o,[(i=e[7],"object"==typeof i&&null!==i?i:{}),o[1]]):{};var i;r.$set(n)},i(e){t||(q(r.$$.fragment,e),t=!0)},o(e){B(r.$$.fragment,e),t=!1},d(e){K(r,e)}}}function he(e){let t,n,o,i,c=e[0],l=[];for(let t=0;t<c.length;t+=1)l[t]=pe(me(e,c,t));const a=e=>B(l[e],1,1,()=>{l[e]=null});return{c(){t=g("main"),n=g("div");for(let e=0;e<l.length;e+=1)l[e].c();v(n,"class","heroContainer svelte-7xz1wd"),v(t,"class","svelte-7xz1wd")},m(c,a,s){h(c,t,a),p(t,n);for(let e=0;e<l.length;e+=1)l[e].m(n,null);o=!0,s&&r(i),i=[w(de,"keydown",e[2]),w(de,"keyup",e[3])]},p(e,[t]){if(3&t){let o;for(c=e[0],o=0;o<c.length;o+=1){const i=me(e,c,o);l[o]?(l[o].p(i,t),q(l[o],1)):(l[o]=pe(i),l[o].c(),q(l[o],1),l[o].m(n,null))}for(L={r:0,c:[],p:L},o=c.length;o<l.length;o+=1)a(o);L.r||r(L.c),L=L.p}},i(e){if(!o){for(let e=0;e<c.length;e+=1)q(l[e]);o=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)B(l[e]);o=!1},d(e){e&&$(t),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(l,e),r(i)}}}function $e(e,t,n){let o=!1,i=[];const r=e=>{let t=e.detail;if(!o)for(let e=0;e<i.length;++e)n(0,i[e].bSelected=!1,i);n(0,i[t].bSelected=!o||!i[t].bSelected,i),blu_event("selectHero",'{"value":'+t+"}"),n(0,i)};window.updatePartyInfo=function(e){n(0,i=e)},window.updateHeroInfo=function(e){const t="heroIndex"in e?e.heroIndex:e.name;if(console.log(t),isNaN(t)){let o=i.findIndex(e=>e.name===t);n(0,i[o]={...i[o],...e},i)}else n(0,i[t]={...i[t],...e},i)},window.updateDeselectAllHeroes=function(e){i.forEach(e=>e.bSelected=!1),n(0,i)},window.updateHeroToggleDeselect=function(e){if("name"in e){let t=i.findIndex(t=>t.name===e.name);n(0,i[t].bSelected=!1,i)}},window.updateSingleHeroSelect=function(e){if("name"in e){let t=i.findIndex(t=>t.name===e.name);i.forEach(e=>e.bSelected=!1),n(0,i[t].bSelected=!0,i)}},window.updateSingleHeroToggleSelect=function(e){if("name"in e){let t=i.findIndex(t=>t.name===e.name);n(0,i[t].bSelected=!0,i)}},window.updateHeroHealthInfo=function(e){if("name"in e){let t=i.findIndex(t=>t.name===e.name);n(0,i[t].hitpoints=e.hitpoints,i)}},window.updateHeroManaInfo=function(e){if("name"in e){let t=i.findIndex(t=>t.name===e.name);n(0,i[t].mana=e.mana,i)}},window.updateHeroMaxHealthInfo=function(e){if("name"in e){let t=i.findIndex(t=>t.name===e.name);n(0,i[t].maxHitpoints=e.maxHitpoints,i)}},window.updateHeroMaxManaInfo=function(e){if("name"in e){let t=i.findIndex(t=>t.name===e.name);n(0,i[t].maxMana=e.maxMana,i)}};return[i,r,e=>{"Shift"==e.key&&(o=!0)},e=>{"Shift"==e.key&&(o=!1)},o,-1,e=>r(e)]}return new class extends U{constructor(e){super(),R(this,e,$e,he,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
